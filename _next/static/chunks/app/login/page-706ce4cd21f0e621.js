(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{6530:function(e,t,r){Promise.resolve().then(r.bind(r,8991))},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},8991:function(e,t,r){"use strict";r.r(t);var s=r(7437),o=r(2265),i=r(9376);t.default=()=>{let[e,t]=(0,o.useState)(""),[r,l]=(0,o.useState)(""),[n,a]=(0,o.useState)(""),[d,u]=(0,o.useState)(!1),c=(0,i.useRouter)(),h=async t=>{t.preventDefault(),a(""),u(!0);try{let t=await fetch("http://localhost:8000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r})}),s=await t.json();t.ok?(localStorage.setItem("authToken",s.access_token),localStorage.setItem("isAdmin",s.user.is_admin?"1":"0"),c.push("/admin")):a(s.message||"Login failed")}catch(e){console.error("Login error:",e),a("Failed to connect to the server")}finally{u(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-violet-900 flex items-center justify-center p-4",children:(0,s.jsx)("div",{className:"w-full max-w-md",children:(0,s.jsxs)("div",{className:"backdrop-blur-lg bg-white/10 rounded-2xl shadow-2xl p-8 border border-white/20",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-center text-white mb-8 tracking-tight",children:"Admin Login"}),n&&(0,s.jsx)("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4 mb-6 text-red-200",children:n}),(0,s.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-white/80 mb-2",children:"Email"}),(0,s.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors duration-200",placeholder:"Enter your email"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-white/80 mb-2",children:"Password"}),(0,s.jsx)("input",{type:"password",id:"password",value:r,onChange:e=>l(e.target.value),required:!0,className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors duration-200",placeholder:"Enter your password"})]}),(0,s.jsx)("button",{type:"submit",disabled:d,className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:d?(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}),"Logging in..."]}):"Login"})]})]})})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6530)}),_N_E=e.O()}]);